# openocd_g031.cfg — STM32G031 + DAPLink(CMSIS-DAP)

# 如有 OPENOCD_SCRIPTS 环境变量会被 find 使用；这里直接写常见路径更稳
# 如果你的发行版路径不同，先运行：echo $OPENOCD_SCRIPTS
# 常见路径：/usr/share/openocd/scripts

# 适配器/接口（系统脚本）
source [find /usr/share/openocd/scripts/interface/cmsis-dap.cfg]

transport select swd
adapter speed 1000          ;# 降低速度提高连接稳定性

# 目标芯片（系统脚本）
source [find /usr/share/openocd/scripts/target/stm32g0x.cfg]

# 可选：若你接了多块 DAPLink，解开并填序列号
# adapter serial 110136025020322052503531333031313632303497969903


# reset配置 - STM32G0系列推荐使用sysresetreq
cortex_m reset_config sysresetreq

# 不自动 init（由命令行控制），也可以留着：
# init
# reset halt
